{"version":3,"sources":["logo.svg","components/Navbar.js","components/AudioDropzone.js","pages/Upload.js","components/AudioFileListItem.js","pages/Manage.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","className","id","to","href","name","color","size","Component","S3_BUCKET","process","AWS","config","update","accessKeyId","secretAccessKey","myBucket","S3","params","Bucket","region","AudioDropzone","useState","filename","setFilename","file","setFile","message","setMessage","audioSrc","setAudioSrc","ffmpeg","createFFmpeg","corePath","log","getSoundID","customer_id","file_name","a","data","axios","post","updateSoundData","sound_id","doTranscode","load","fetchFile","FS","run","URL","createObjectURL","Blob","buffer","type","prompt","Date","now","output","bucket_file","File","uploadFileToS3","useEffect","onDrop","useCallback","acceptedFile","console","useDropzone","getRootProps","getInputProps","useRef","ACL","Body","Key","putObject","on","evt","send","err","multiple","accept","controls","src","Upload","rel","require","AudioFileListItem","props","s3_url","playing","setPlaying","playingAudio","setPlayingAudio","handleAudioPlay","state","then","result","audio","Audio","pause","play","addEventListener","handleAudioDownload","window","open","onClick","handleAudioDelete","Manage","files","setFiles","loading","setLoading","firstVal","setFirstVal","secondVal","setSecondVal","response","getFiles","confirm","filter","fl","height","width","timeout","slice","map","App","class","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cbbb4d9a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { Component } from 'react';\nimport './styles/Navbar.css'\nimport 'boxicons';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link\n  } from \"react-router-dom\";\n\n\nexport class Navbar extends Component {\n\n  render() {\n    return(\n            <div className=\"vertical-nav\" id=\"sidebar\">\n                <div className=\"py-4 px-3\">\n                <div className=\"media\">\n                    <div className=\"media-body\">\n                    <h5 className=\"m-0 text-white media-body-heading\">telecurve</h5>\n                    </div>\n                </div>\n                </div>\n\n                <ul className=\"nav flex-column align-items-start mb-0\">\n                <li className=\"nav-item\">\n                    <Link className=\"nav-redirect\" to=\"/upload\">\n                        <a href=\"#\" className=\"nav-link text-white font-italic\">\n                        <i className=\"nav-icon\">\n                            <box-icon name='upload' color='#ffffff' size=\"md\"></box-icon>\n                        </i>\n                        <span className=\"navbar-text\" >upload</span>\n                        </a>\n                    </Link>\n                </li>\n                <li className=\"nav-item\">\n                    <Link className=\"nav-redirect\" to=\"/manage\">\n                        <a href=\"#\" className=\"nav-link text-white font-italic\">\n                            <i className=\"nav-icon\">\n                                <box-icon name='file-blank' color='#ffffff' size=\"md\"></box-icon>\n                            </i>\n                            <span className=\"navbar-text\">manage</span>\n                        </a>\n                    </Link>\n                </li>\n                <li className=\"nav-item\">\n                    <Link className=\"nav-redirect\" to=\"/menu\">\n                        <a href=\"#\" className=\"nav-link text-white font-italic\">\n                            <i className=\"nav-icon\">\n                                <box-icon name='phone' color='#ffffff' size=\"md\"></box-icon>\n                            </i>\n                            <span className=\"navbar-text\">menu</span>\n                        </a>\n                    </Link>\n                </li>\n                <li className=\"nav-item\">\n                    <Link className=\"nav-redirect\" to=\"/settings\">\n                        <a href=\"#\" className=\"nav-link text-white font-italic\">\n                            <i className=\"nav-icon text-primary\">\n                                <box-icon name='cog' color='#ffffff' size=\"md\"></box-icon>\n                            </i>\n                            <span className=\"navbar-text\">settings</span>\n                        </a>\n                    </Link>\n                </li>\n                <li className=\"nav-item\">\n                    <Link className=\"nav-redirect\" to=\"/logout\">\n                        <a href=\"#\" className=\"nav-link text-white font-italic\">\n                            <box-icon name='door-open' color='#ffffff' size=\"md\"></box-icon>\n                            <span className=\"navbar-text\">logout</span>\n                        </a>\n                    </Link>\n                </li>\n                </ul>\n            </div>\n    )\n  }\n\n}\n\nexport default Navbar;","import React, { useCallback, useState, useEffect, useRef } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport \"./styles/Dropzone.css\";\nimport { createFFmpeg, fetchFile } from '@ffmpeg/ffmpeg';\nimport S3 from \"react-aws-s3\";\nimport env from \"react-dotenv\";\nimport AWS from 'aws-sdk';\nimport axios from 'axios';\n\n<script src=\"https://unpkg.com/@ffmpeg/ffmpeg@0.10.1/dist/ffmpeg.min.js\"></script>\n\nconst S3_BUCKET = process.env.REACT_APP_BUCKET_NAME;\nconst REGION = process.env.REACT_APP_REGION;\n\nAWS.config.update({\n  accessKeyId: process.env.REACT_APP_ACCESS_ID,\n  secretAccessKey: process.env.REACT_APP_ACCESS_KEY\n})\n\nconst myBucket = new AWS.S3({\n  params: { Bucket: S3_BUCKET},\n  region: REGION,\n})\n\nfunction AudioDropzone() {\n  const [filename, setFilename] = useState(null)\n  const [file, setFile] = useState(null)\n  const [message, setMessage] = useState(null)\n  const [audioSrc, setAudioSrc] = useState(null)\n  const ffmpeg = createFFmpeg({\n    corePath: 'https://unpkg.com/@ffmpeg/core@0.10.0/dist/ffmpeg-core.js',\n    log: true,\n  });\n\n  \n  const getSoundID = async (customer_id, file_name) => {\n    \n    var data = {\n      \"customer-id\": customer_id,\n      \"file-name\": file_name\n    };\n\n    return await axios.post(`/files/retrieve-sound-id`, data);\n    //return await axios.post(`http://localhost:2000/files/retrieve-sound-id`, data);\n    \n  }\n\n  const updateSoundData = async (sound_id, customer_id) => {\n    \n    var data = {\n      \"sound-id\": sound_id,\n      \"customer-id\": customer_id\n    };\n\n    return await axios.post(`/files/update-database-with-s3`, data);\n    //return await axios.post(`http://localhost:2000/files/update-database-with-s3`, data);\n\n  }\n\n\n  const doTranscode = async () => {\n    setMessage('Loading ffmpeg-core.js');\n    await ffmpeg.load();\n    setMessage('Start transcoding');\n    ffmpeg.FS('writeFile', filename, await fetchFile(file));\n    await ffmpeg.run('-i', filename, 'test.wav');\n    setMessage('Complete transcoding');\n    const data = ffmpeg.FS('readFile', 'test.wav');\n    setAudioSrc(URL.createObjectURL(new Blob([data.buffer], { type: 'audio/wav' })));\n\n\n    //hardcoded customer id and name for temporary usage\n    var customer_id = 1;\n    var file_name = prompt('What would you like to call this file?');\n\n    if (!file_name) {\n      file_name = Date.now()\n    }\n    \n    (async function(){\n      let output = await getSoundID(customer_id, file_name);\n      let sound_id = output.data;\n      var bucket_file = new File([new Blob([data.buffer], { type: 'audio/wav' })], \"sounds/\" + customer_id + \"/\" + sound_id + \".wav\");\n      uploadFileToS3(bucket_file);\n      updateSoundData(sound_id, customer_id);\n    })();\n  };\n\n  useEffect(() => {\n    if (file) {\n      doTranscode()\n    }\n  }, [file])\n\n  //ffmpeg -i input.mp3 -acodec pcm_s16le -ac 1 -ar 16000 output.wav\n  const onDrop = useCallback(acceptedFile => {\n    setFilename(acceptedFile[0].name)\n    setFile(acceptedFile[0])\n    console.log(acceptedFile[0])\n    // console.log(acceptedFile)\n  }, [])\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  const fileInput = useRef();\n\n  const uploadFileToS3 = (file) => {\n\n    const params = {\n        ACL: 'public-read',\n        Body: file,\n        Bucket: S3_BUCKET,\n        Key: file.name\n    };\n    \n    myBucket.putObject(params)\n        .on('httpUploadProgress', (evt) => {\n          console.log('success!')\n        })\n        .send((err) => {\n            if (err) console.log(err)\n        })\n  }\n\n  return (\n    <section className=\"UploadPage\">\n      <div className=\"AudioHeading\">\n        Welcome back, Dovid!\n      </div>\n      <div className=\"FileDropzone mx-auto dropzone\">\n        <div className=\"\">\n          <div className=\"\" {...getRootProps()}>\n            <div className=\"\">\n              <input className=\"file-input\" type=\"file\" name=\"resume\" {...getInputProps({ multiple: false })} accept=\".wav,.mp3,.mp4,.m4a,.gsm\"/>\n              <div className=\"dropzoneContent\">\n                <span className=\"dropzoneDrag\"> 📁 </span>\n                <p className=\"dropzoneText\">Choose a file or drag it here to upload</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"\">\n            {message ? message : null}\n          </div>\n          {\n            audioSrc ? \n            <audio controls>\n            <source src={audioSrc} type=\"audio/wav\"/>\n                Your browser does not support the audio tag.\n        </audio> : null\n          }\n          \n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default AudioDropzone;\n","import '../App.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Navbar from '../components/Navbar';\nimport AudioDropzone from '../components/AudioDropzone';\n<script src=\"https://unpkg.com/boxicons@latest/dist/boxicons.js\"></script>\n\nfunction Upload() {\n  return (\n    <div className=\"Upload\">\n      <head>\n        <link rel=\"stylesheet\" href=\"boxicons.min.css\" />\n      </head>\n      <div className=\"row\" >\n        <div className=\"col-2\">\n          <Navbar />\n        </div>\n        <div className=\"col-9 mx-auto\">\n          <AudioDropzone />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Upload;\n","import '../App.css';\nimport './styles/ManageFiles.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport React, { useCallback, useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nconst fs = require('fs')\nconst Path = require('path')\nconst Axios = require('axios')\nconst AWS = require('aws-sdk');\n\n\n<script src=\"https://unpkg.com/boxicons@latest/dist/boxicons.js\"></script>\n\nfunction AudioFileListItem(props) {\n  var name = props.name;\n  var id = props.id;\n  var customer_id = props.customer_id;\n  var s3_url = props.s3_url;\n\n  const [playing, setPlaying] = useState(false);\n  const [playingAudio, setPlayingAudio] = useState([]);\n\n  const handleAudioPlay = (customer_id, sound_id, state) => {\n    \n    var data = {\n      \"customer-id\": customer_id,\n      \"sound-id\": sound_id\n    };\n\n    if(state) {\n      axios.post(`/files/get-temporary-url`, data).then(function(result) {\n        var audio = new Audio(result.data)\n        setPlayingAudio(audio)\n        if(playing) {\n          audio.pause()\n        }\n        else {\n          audio.play()\n          setPlaying(true)\n          audio.addEventListener('ended', function() {\n            setPlaying(false)\n            }, false);\n        }\n      });;\n    }\n    else {\n      playingAudio.pause()\n      setPlaying(false)\n    }\n  \n  }\n\n\n  const handleAudioDownload = (customer_id, sound_id) => {\n    \n    var data = {\n      \"customer-id\": customer_id,\n      \"sound-id\": sound_id\n    };\n\n    axios.post(`/files/get-temporary-url`, data).then(async function(result) {\n      window.open(result.data)\n    });;\n  \n  }\n\n  const downloadFile = async (presignedGETURL) => {\n    const url = presignedGETURL\n\t\ttry {\n\t\t\tconst response = await Axios({\n\t\t\t\t\turl,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tresponseType: 'arraybuffer',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t'Accept': 'application/wav' // <-- declare the file format in s3\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn response.data;\n\t\t} catch (err) {\n\t\t\tconsole.log(\"error in axios call\", err)\n\t\t\tthrow err;\n\t\t}\n  }\n\n  \n\n  return (\n    <div className=\"AudioFileListItem\">\n      <div className=\"AudioFileListElements\">\n        <span className=\"AudioFileListLogo\">\n          <box-icon name='file-find' color='#ffffff' size=\"md\"></box-icon>\n        </span>\n        <span className=\"AudioFileListName\">\n          { name }\n        </span>\n        {playing\n        ? \n        \n        <span className=\"AudioFilePlayButton\" onClick={() => handleAudioPlay(customer_id, id, false)}>\n        <box-icon name='pause-circle' color='#ffffff' size=\"sm\"></box-icon>\n        </span>\n\n        : \n\n        <span className=\"AudioFilePlayButton\" onClick={() => handleAudioPlay(customer_id, id, true)}>\n        <box-icon name='play-circle' color='#ffffff' size=\"sm\"></box-icon>\n        </span>\n        }\n\n        {playing\n        ? \n        \n        <span className=\"AudioFilePlayButtonTitle\" onClick={() => handleAudioPlay(customer_id, id, false)}>\n          Pause\n        </span>\n\n        : \n\n        <span className=\"AudioFilePlayButtonTitle\" onClick={() => handleAudioPlay(customer_id, id, true)}>\n          Play\n        </span>\n\n        }\n\n        <span className=\"AudioFileDownloadButton\" onClick={() => handleAudioDownload(customer_id, id)}>\n          <box-icon name='download' type='solid' color='#ffffff' size=\"sm\"></box-icon>\n        </span>\n        <span className=\"AudioFileDownloadButtonTitle\" onClick={() => handleAudioDownload(customer_id, id)}>\n          Download\n        </span>\n        <span className=\"AudioFileDeleteButton\" onClick={() => props.handleAudioDelete(id)}>\n          <box-icon name='trash' color='#ffffff' size=\"sm\"></box-icon>\n        </span>\n        <span className=\"AudioFileDeleteButtonTitle\" onClick={() => props.handleAudioDelete(id)}>\n          Delete\n        </span>\n        <br />\n        <br />\n      </div>\n    </div>\n  );\n}\n\nexport default AudioFileListItem;\n","import '../App.css';\nimport '../components/styles/ManageFiles.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Navbar from '../components/Navbar';\nimport AudioFileListItem from '../components/AudioFileListItem';\nimport axios from 'axios';\nimport React, { useCallback, useState, useEffect, useRef } from 'react';\nimport Loader from \"react-loader-spinner\";\n\n<script src=\"https://unpkg.com/boxicons@latest/dist/boxicons.js\"></script>\n\nfunction Manage() {\n\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [firstVal, setFirstVal] = useState(0);\n  const [secondVal, setSecondVal] = useState(10);\n  const customer_id = 1;\n\n\n  useEffect(() => {\n    async function getFiles() {\n      setLoading(true);\n      \n      var data = {\n        \"customer-id\": customer_id\n      };\n      let response = await axios.post(`/files/get-files`, data)\n      setFiles(response.data)\n      setLoading(false);\n    }\n    getFiles() \n    \n  }, []);\n\n  const handleAudioDelete = (sound_id) => {\n    \n    var data = {\n      \"customer_id\": customer_id,\n      \"sound_id\": sound_id\n    };\n\n    if (window.confirm(\"Are you sure you want to delete this file?\")) {\n      axios.post(`/files/delete-file`, data).then(function(result) {\n        //remove item from react list through hook\n        setFiles(files => files.filter(fl => fl.id !== sound_id));\n        console.log(result.data);\n      });\n\n    }\n\n  }\n\n  const handlePreviousChoice = () => {\n    \n   if(firstVal >= 10) {\n    setFirstVal(firstVal - 10)\n    setSecondVal(secondVal - 10)\n   }\n\n  }\n\n  const handleNextChoice = () => {\n    \n    setFirstVal(firstVal + 10)\n    setSecondVal(secondVal + 10)\n \n  }\n \n\n  return (\n    <div className=\"Manage\">\n      <head>\n        <link rel=\"stylesheet\" href=\"boxicons.min.css\" />\n      </head>\n      <div className=\"row\" >\n        <div className=\"col-2\">\n          <Navbar />\n        </div>\n        <div className=\"col-9 mx-auto fileCollection\">\n          <div className=\"ManageHeading\">\n            Your active files\n          </div>\n          {loading ? (\n            <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n            />\n          ) : (\n            files.slice(firstVal, secondVal).map((fl) => <AudioFileListItem key={fl.id} id={fl.id} customer_id={customer_id} name={fl.name} s3_url={fl.s3_url} handleAudioDelete={handleAudioDelete}/>)\n          )}\n          <div className=\"ListChoices\">\n            <span className=\"PreviousChoiceButton\" onClick={() => handlePreviousChoice()}>\n              <box-icon name='caret-left-circle' color='#ffffff' size=\"lg\"></box-icon>\n            </span>\n            <span className=\"NextChoiceButton\" onClick={() => handleNextChoice()}>\n              <box-icon name='caret-right-circle' color='#ffffff' size=\"lg\"></box-icon>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Manage;\n","import logo from './logo.svg';\nimport './App.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Navbar from './components/Navbar';\nimport React from 'react';\nimport AudioDropzone from './components/AudioDropzone';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport Upload from './pages/Upload';\nimport Manage from './pages/Manage';\n\n<script src=\"https://unpkg.com/boxicons@latest/dist/boxicons.js\"></script>\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <head>\n          <link rel=\"stylesheet\" href=\"boxicons.min.css\" />\n        </head>\n        <div className=\"row\" >\n          <div class=\"col-2\">\n            <Navbar />\n          </div>\n          <div class=\"col-9\">\n            <Switch>\n              <Route path=\"/upload\">\n                <Upload />\n              </Route>\n              <Route path=\"/manage\">\n                <Manage />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n//serviceWorker.unregister();\n"],"sourceRoot":""}